<!doctype html>

<html ng-app="MainApp">
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Viajapp</title>
    <!-- Cargamos bootstrap -->
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="/custom.css">

    <!-- Cargamos angular -->
    <script src="../bower_components/angular/angular.js"></script>
    <script src="../bower_components/angular-route/angular-route.js"></script>
    <script src="../bower_components/angular-animate/angular-animate.js"></script>
    <!-- Cargamos el javascript de angular -->
    <script src="../core.js"></script>



    <script type="text/ng-template" id="ng-confirm-template">
        <div class="modal-body">
            <p>{{message}}</p>
        </div>
        <div class="modal-footer">
            <button class="btn btn-link pull-left" ng-click="no()">No</button>
            <button class="btn btn-primary pull-right" ng-click="yes()">Yes</button>
        </div>
    </script>




</head>
<body background="../images/fondo.png" ng-controller="MainController">
<div class="container">

    <div class="jumbotron text-center" ng-prueba>
        <h1>Busqueda Ciudad </h1>
    </div>
    <input type="text" class="form-control input-lg text-center" placeholder="Buscar" ng-model="newRuta.city" >
    <br>
    <button type="submit" class="btn btn-success btn-lg" ng-click="Mostrarporciudad(newRuta.city)">Buscar por ciudad</button>
    <div class="col-sm-6 col-sm-offset-1">
        <table class="table table-striped">
            <tr class="info">
                <td>Type</td>
                <td>Name</td>
                <td>Time</td>
                <td>Puntos de Interest</td>
                <td>Ver Mapa</td>
            </tr>
            <tr ng-repeat="ruta in rutas">
                <td>{{ruta.type }}</td>
                <td>{{ ruta.name }}</td>
                <td>{{ ruta.time }}</td>
                <td>{{ ruta.interest }}</td>
                <td><button type="submit" ng-click="MostrarMapa(route.id)">Ver Mapa</button></td>
                <!--<td>{{ persona.name }}</td>-->
                <!--<td><a href="#" ng-click="borrarPersona(persona.name) && ng-alert('Quieres borrar la perssona?')">Eliminar</a></td>-->
            </tr>
        </table>
    </div>
</div>
</body>

<div id="map_container">
</div>
<div class="controls" >
    <ng-map zoom="13" center="{{routes.city}}" style="height:600px"
            on-center-changed="centerCustomMarker()">
        <marker ng-repeat="interest in a.interests" id="custom-marker-{{routes.id}}" position="{{routes.interest}}"
                title="{{routes.name}}" on-click="vm.showCustomMarker(event,'custom-marker-'+$index)"></marker>


        <custom-marker ng-repeat="interest in interests" id="custom-marker-{{routes.id}}" visible="false"
                       position="{{routes.interest}}" on-click="vm.closeCustomMarker()">
            <img>
            {{routes.interest}}<br/>

            div>
        </custom-marker>
    </ng-map>
</div>
</html>